# plugin manager
[[plugins]]
repo = 'Shougo/dein.vim'

# bracket completion
[[plugins]]
repo = 'cohama/lexima.vim'

# completion
[[plugins]]
repo = 'prabirshrestha/async.vim'

[[plugins]]
repo = 'prabirshrestha/vim-lsp'
hook_add = '''
let g:lsp_async_completion = 1
let g:lsp_signs_enabled = 0
let g:lsp_diagnostics_enabled = 0
if executable('pyls')
  au User lsp_setup call lsp#register_server({
        \ 'name': 'pyls',
        \ 'cmd': {server_info->['pyls']},
        \ 'whitelist': ['python'],
        \ 'workspace_config': {'pyls': {'plugins': {'pydocstyle': {'enabled': v:false}, 'jedi_definition': {'follow_imports': v:true, 'follw_builtin_imports': v:true}}}}
        \ })
endif

if executable('cquery')
  au User lsp_setup call lsp#register_server({
     \ 'name': 'cquery',
     \ 'cmd': {server_info->['cquery']},
     \ 'root_uri': {server_info->lsp#utils#path_to_uri(lsp#utils#find_nearest_parent_file_directory(lsp#utils#get_buffer_path(), '.cquery'))},
     \ 'initialization_options': { 'cacheDirectory': '/tmp/cquery/cache' },
     \ 'whitelist': ['c', 'cpp', 'objc', 'objcpp', 'cc'],
     \ })
endif
'''

[[plugins]]
repo = 'prabirshrestha/asyncomplete.vim'

[[plugins]]
repo = 'prabirshrestha/asyncomplete-lsp.vim'
depends = ['asyncomplete.vim', 'vim-lsp']

[[plugins]]
repo = 'pdavydov108/vim-lsp-cquery'

# [[plugins]]
# repo = 'Shougo/neoinclude.vim'
# hook_add = '''
# let g:neoinclude#paths = {'cpp': '/usr/local/include/c++/8.3.0'}
# '''
# 
# [[plugins]]
# repo = 'kyouryuukunn/asyncomplete-neoinclude.vim'
# depends = ['asyncomplete.vim', 'neoinclude.vim']
# hook_add = '''
# au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#neoinclude#get_source_options({
#     \ 'name': 'neoinclude',
#     \ 'whitelist': ['c', 'cpp'],
#     \ 'priority': 9,
#     \ 'refresh_pattern': '\(<\|"\|/\)$',
#     \ 'completor': function('asyncomplete#sources#neoinclude#completor'),
#     \ }))
# '''


[[plugins]]
repo = 'prabirshrestha/asyncomplete-buffer.vim'
depends = ['asyncomplete.vim']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#buffer#get_source_options({
    \ 'name': 'buffer',
    \ 'priority': 5,
    \ 'whitelist': ['*'],
    \ 'completor': function('asyncomplete#sources#buffer#completor'),
    \ }))
'''

[[plugins]]
repo = 'prabirshrestha/asyncomplete-file.vim'
depends = ['asyncomplete.vim']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#file#get_source_options({
    \ 'name': 'file',
    \ 'priority': 4,
    \ 'whitelist': ['*'],
    \ 'completor': function('asyncomplete#sources#file#completor'),
    \ }))
'''

[[plugins]]
repo = 'prabirshrestha/asyncomplete-necosyntax.vim'
depends = ['asyncomplete.vim', 'neco-syntax']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#necosyntax#get_source_options({
    \ 'name': 'necosyntax',
    \ 'priority': 7,
    \ 'whitelist': ['*'],
    \ 'completor': function('asyncomplete#sources#necosyntax#completor'),
    \ }))
'''

[[plugins]]
repo = 'Shougo/neco-syntax'

[[plugins]]
repo = 'prabirshrestha/asyncomplete-necovim.vim'
depends = ['asyncomplete.vim', 'neco-vim']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#necovim#get_source_options({
    \ 'name': 'necovim',
    \ 'whitelist': ['vim'],
    \ 'priority': 10,
    \ 'completor': function('asyncomplete#sources#necovim#completor'),
    \ }))
'''

[[plugins]]
repo = 'Shougo/neco-vim'

[[plugins]]
repo = 'yami-beta/asyncomplete-omni.vim'
depends = ['asyncomplete.vim']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#omni#get_source_options({
  \ 'name': 'omni',
  \ 'whitelist': ['*'],
  \ 'priority': 6,
  \ 'completor': function('asyncomplete#sources#omni#completor')
  \  }))
'''

[[plugins]]
repo = 'Shougo/neosnippet.vim'
hook_add = '''
let g:neosnippet#snippets_directory='~/.vim/bundle/neosnippet-snippets/snippets/'
'''

[[plugins]]
repo = 'Shougo/neosnippet-snippets'

[[plugins]]
repo = 'prabirshrestha/asyncomplete-neosnippet.vim'
depends = ['asyncomplete.vim']
hook_add = '''
au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#neosnippet#get_source_options({
  \ 'name': 'neosnippet',
  \ 'whitelist': ['*'],
  \ 'priority': 3,
  \ 'completor': function('asyncomplete#sources#neosnippet#completor'),
  \ }))
imap <C-k> <Plug>(neosnippet_expand_or_jump)
smap <C-k> <Plug>(neosnippet_expand_or_jump)
xmap <C-k> <Plug>(neosnippet_expand_target)
'''

# syntax check
[[plugins]]
repo = 'w0rp/ale'
hook_add = '''
let g:ale_linters = {
  \ 'cpp': ['gcc'],
  \ 'python': ['flake8'],
\}
let g:ale_linters_explicit = 1
let g:ale_lint_on_text_changed = 'never'
let g:ale_lint_on_enter = 0
let g:asyncomplete_completion_delay=10
'''

# git
[[plugins]]
repo = 'tpope/vim-fugitive'

[[plugins]]
repo = 'tpope/vim-rhubarb'

# visualization
# [[plugins]]
# repo = 'cocopon/iceberg.vim'

[[plugins]]
repo = 'arcticicestudio/nord-vim'

# statusline
[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
let g:lightline = {
  \ 'colorscheme': 'deus',
  \ 'active': {
  \   'left': [ [ 'mode', 'paste' ],
  \             [ 'gitbranch', 'readonly', 'filename', 'modified' ] ],
  \   'right': [ [ 'lineinfo' ],
  \               [ 'percent' ],
  \               [ 'fileformat', 'fileencoding', 'filetype' ] ]
  \ },
  \ 'component_function': {
  \   'gitbranch': 'fugitive#head'
  \ },
"  \ 'separator': { 'left': "\ue0b0", 'right': "\ue0b2" },
" \ 'subseparator': { 'left': "\ue0b1", 'right': "\ue0b3" }
  \ }
let s:p = g:lightline#colorscheme#deus#palette
let s:term_red = 204
let s:term_green = 30
let s:term_yellow = 180
let s:term_blue = 39
let s:term_purple = 196
let s:term_white = 145
let s:term_black = 235
let s:term_grey = 236
let s:p.normal.left = [ [ '#292c33', '#98c379', s:term_white, s:term_green, 'bold' ], [ '#98c379', '#292c33', s:term_white, s:term_black ] ]
let s:p.normal.right = [ [ '#292c33', '#98c379', s:term_white, s:term_green ], [ '#abb2bf', '#3e4452', s:term_white, s:term_grey ], [ '#98c379', '#292c33', s:term_green, s:term_black ] ]
let s:p.insert.left = [ [ '#292c33', '#61afef', s:term_black, s:term_blue, 'bold' ], [ '#61afef', '#292c33', s:term_blue, s:term_black ] ]
let s:p.insert.right = [ [ '#292c33', '#61afef', s:term_black, s:term_blue ], [ '#ABB2BF', '#3E4452', s:term_white, s:term_grey ], [ '#61afef', '#292c33', s:term_blue, s:term_black ] ]
let s:p.visual.left = [ [ '#292c33', '#c678dd', s:term_black, s:term_purple, 'bold' ], [ '#c678dd', '#292c33', s:term_purple, s:term_black ] ]
let s:p.visual.right = [ [ '#292c33', '#c678dd', s:term_black, s:term_purple, 'bold' ], s:p.normal.right[1], [ '#c678dd', '#292c33', s:term_purple, s:term_black ] ]
'''

# indent
[[plugins]]
repo = 'Yggdroot/indentLine'
hook_add = '''
set list listchars=tab:\Â¦\ 
let g:indentLine_fileTypeExclude = ['help']
'''

# denite
[[plugins]]
repo = 'roxma/nvim-yarp'

[[plugins]]
repo = 'roxma/vim-hug-neovim-rpc'

[[plugins]]
repo = 'Shougo/neomru.vim'

[[plugins]]
repo = 'Shougo/neoyank.vim'

[[plugins]]
repo = 'Shougo/denite.nvim'
